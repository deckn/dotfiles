# ~/.bash_exports
# this file is used for export definitions and is loaded by
# the .bashrc file.

# for a nicer terminal
export TERM="xterm-256color"

# proxy settings
if [[ $HOSTNAME == BBS*.ipsw.dt.ept.lu ]]; then
    export http_proxy="http://bbs-pylon:3128"
    export https_proxy="http://bbs-pylon:3128"
    export no_proxy="localhost .ipsw.dt.ept.lu"
fi

# python stuff
export PYTHONWARNINGS=default

# modifies the promt
RESET="\e[0m\]"
BAR="\e[1;30m\]"
BLUE="\e[1;34m\]"
CYAN="\e[0;36m\]"
ORANGE="\e[0;33m\]"
RED="\e[0;31m\]"
GREEN="\e[0;32m\]"
PURPLE="\e[0;35m\]"
SIZE="$(/bin/ls -lah | /bin/grep -m 1 total | /bin/sed 's/total //')"
XTERM_TITLE="\[\e]2;\]\u@\H | \w\a\]"
GIT_BRANCH="\$(~/dotfiles/bin/gitbranch \"\[\e[0m\][\[\e[33;2m\]\" \"\[\e[0m\]] \")"
NUM_JOBS="\[\e[0m\](\j)"
if [ $(whoami) = "root" ]; then
    UCL="31;1"
    PS1_LINE1="${XTERM_TITLE}\[\e[${UCL}m\]┌\[\e[0m\] [\t] \[\e[${UCL}m\]\u\[\e[0m\]@\[\e[32;2m\]\H ${GIT_BRANCH}${NUM_JOBS}"
    PS1_LINE2="\[\e[${UCL}m\]└ \[\e[34;2m\]\W\[\e[32;2m\] \[\e[${UCL}m\]# \[\e[0m\]"
    export PS1="$PS1_LINE1\n$PS1_LINE2"
else
    PS1_LINE1="${RESET}${BAR}┌(${CYAN}\t${BAR})${BLUE}\u${RESET}@${GREEN}\h${BAR}─(${RED}\j${BAR})──> ${ORANGE}${GIT_BRANCH}${RESET}"
    PS1_LINE2="${RESET}${BAR}└─(${GREEN}\w${BAR})─(${PURPLE}${SIZE}${BAR})──> ${RESET}$ "
    export PS1="$PS1_LINE1\n$PS1_LINE2"
fi
